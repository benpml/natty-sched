<!DOCTYPE html>
<html>
<head>
    <title>NattySched Browser Test</title>
</head>
<body>
    <h1>NattySched Browser Test</h1>
    <div id="output"></div>

    <!-- Load from unpkg -->
    <script src="https://unpkg.com/natty-sched@1.2.0/dist/natty-sched.umd.js"></script>

    <script>
        const output = document.getElementById('output');

        // Check what's available
        output.innerHTML += '<h2>Window.NattySched exists: ' + (typeof window.NattySched !== 'undefined') + '</h2>';

        if (window.NattySched) {
            output.innerHTML += '<h3>Available functions:</h3>';
            output.innerHTML += '<ul>';
            Object.keys(window.NattySched).forEach(key => {
                output.innerHTML += '<li>' + key + ': ' + typeof window.NattySched[key] + '</li>';
            });
            output.innerHTML += '</ul>';

            // Test parse function
            output.innerHTML += '<h3>Test parse("every day at 9am"):</h3>';
            try {
                const result = window.NattySched.parse("every day at 9am");
                output.innerHTML += '<pre>' + JSON.stringify(result, null, 2) + '</pre>';
            } catch (e) {
                output.innerHTML += '<p style="color: red;">Error: ' + e.message + '</p>';
            }

            // Test getSuggestions
            output.innerHTML += '<h3>Test getSuggestions("every", {limit: 3}):</h3>';
            try {
                const suggestions = window.NattySched.getSuggestions("every", {limit: 3});
                output.innerHTML += '<pre>' + JSON.stringify(suggestions.map(s => ({label: s.label, score: s.score})), null, 2) + '</pre>';
            } catch (e) {
                output.innerHTML += '<p style="color: red;">Error: ' + e.message + '</p>';
            }
        } else {
            output.innerHTML += '<p style="color: red;">NattySched not found on window!</p>';
            output.innerHTML += '<p>Available on window: ' + Object.keys(window).filter(k => k.includes('Natty') || k.includes('Sched')).join(', ') + '</p>';
        }
    </script>
</body>
</html>
